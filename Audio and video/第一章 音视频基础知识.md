# 第一章 音视频基础知识

## 1.1 视频编码

- 视频编码：通过特定的压缩技术，将某个视频格式文件转换成另一种视频格式文件的方式

### 视频编码的两种系列

- MPEG 系列：由 ISO 下属的 MPEG 开发
  - 视频编码
    - MEPG1：VCD
    - MPEG2: DVD
    - MPEG4: DVDRIP，DivX，XviD
    - MPEG4 AVC
  - 音频编码
    - MPEG Audio Layer 1/2
    - MPEG Audio Layer 3（MP3）
    - MPEG2 AAC
    - MPEG4 AAC
- H.26x 系列：由 ITU 主导，侧重网络传播，仅有视频编码
  - H.261、H.262、H.263、H.263+、H.263++、H.264（与 MPEG 4 AVC 合作的结晶）

## 1.2 音频编码

常见音频编码格式有：AAC、MP3 和 AC3

- AAC：专为声音数据设计的文件压缩格式
  - 有损压缩格式（APE、FLAC 为无损压缩）
  - 对比 MP3 使用新算法进行编码，更加有效，性价比更高，音质更佳
  - 在音质没有明显降低的前提下，可使文件变得更加小巧
- MP3：音频压缩技术，被设计用来大幅度降低音频的数据量
  - 压缩比例为：1:10 甚至 1:12
  - 压缩方式：利用人耳对高音频声音不敏感的特性，将时域波形信号转换成频域信号，并划分成多个频段，对不同频段使用不同的压缩率（高频使用大压缩率，低频使用小压缩率）
- AC3：Audio Version 3，由 Dolby 实验室发展的有损音频编码格式
  - 广泛适用于 5.1 声道
  - 提供 6 个独立声道

## 1.3 多媒体播放组件

### Android 

- MediaPlayer：播放控制
- MediaCodec：音视频编解码
- OMX：多媒体部分采用的编解码标准
- StageFright：一个替代 OpenCore 的 OMX 层框架，对 OpenCore 的 mox-Component 部分做了引用
  - 处于 MediaPlayerServices 层，和 OpenCore 并列
  - 在 Android 中以共享库的方式存在（`libstagefright.so`），其中的`NuPlayer/AwesomePlayer`可以用于播放音视频
- AudioTrack：音频播放

### iOS

- VideoToolBox：一个提供对硬件编码器和解码器的直接访问，为视频和解压缩提供服务；还可用于 CoreVideo 像素缓冲区中存储的栅格之间的转换
- AudioToolBox：一个把短声音注册到 System Sound 服务上的框架
- AVPlayer：可以播放音视频

## 1.4 常见的多媒体框架及解决方案

- VLC：Video Lan Client，是一款自由、开源的跨平台多媒体播放器及框架
- FFmpeg：多媒体解决方案，不是多媒体框架，广泛用于音视频开发中
- GStreamer：用于构建流媒体应用的开源多媒体框架

## 1.5 相关知识点

### 1.5.1 帧率

用于测量显示帧数的量度，测量单位是每秒显示帧数（frame per second，fps）或"赫兹"

### 1.5.2 分辨率

视频分辨率：视频成像产品所形成的图像大小或尺寸

### 1.5.3 刷新率

屏幕每秒屏幕被刷新的次数，刷新率氛围垂直刷新率和水平刷新率，一般提到的刷新率指的是垂直刷新率

### 1.5.4 编码格式

编码的目的是压缩数据量，采用编码算法压缩冗余数据。常用的编码格式：

1. MPEG
2. H.26X

### 1.5.5 封装格式

把编码后的音视频数据以一定的格式封装到一个容器里，常见封装格式有：MKV、AVI、TS 等

### 1.5.6 码率

码率就是比特率，也就是单位时间播放连续的媒体的比特数量。

比特率越高，带宽消耗越多。

文件大小（b）= 码率（b/s）x 时常（s）

### 1.5.7 画质与码率

视频质量和码率、编码算法都有关系，不一定码率越大，视频质量越好。

### 1.5.9 YUV 和 RGB

- YUV 一种颜色编码方法
  - Y：亮度
  - UV 代表色差，两者是构成颜色的两个分量
- RGB：一种颜色空间模型，通过对红（R）、绿（G）和蓝（B）3 个颜色通道的变化以及他们之间相互叠加来得到各式各样的颜色

### 1.5.10 视频帧和音频帧

